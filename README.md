# Safe_Car
## 2024년 가을학기 시스템프로그래밍및실습 F124-2 기말 프로젝트
9팀 스트로베리파이
- 소프트웨어학과 202126902 권준호
- 소프트웨어학과 202126913 김민재
- 소프트웨어학과 202126820 박윤수
- 소프트웨어학과 202126859 이정환


## 프로젝트 주제
### 동기 : 운전 중 안정성 보장을 위한 보조 시스템의 필요성
운전자 부주의에 대한 기사 발견  
운전 중 급격한 상황 변화에 따른 문제 인식  
운전자 보조를 통한 사고 예방 및 후속 대처 시스템 제안  

## 프로젝트 목표
### 운전자 보조 시스템 개발
- 자동차 구동 시스템 구현
- 전후진, 핸들 조향 조종을 위한 컨트롤러 - 자동차 간 통신 구현
- 운전자 의식 없음을 감지하기 위한 센서 및 알고리즘 구현
- 상황 감지 후 안전한 구간으로 이동하여 정차하는 알고리즘 구현
- 어두운 상황에서 자동으로 켜지는 오토 헤드라이트 구현
- 전후방 충돌 방지 시스템 구현

## 역할 분담 및 일정 계획
### 역할 분담
- 권준호 : 헤드라이트, 컨트롤 통신 구현
- 김민재 : 구동축 제어 구현
- 박윤수 : 상황 감지(운전자 보조 시스템) 기능 구현
- 이정환 : 전후방 충돌 방지 시스템 구현
### 일정 계획
- 11 / 14 ~ 11 / 25 : 프로젝트 진행
  - 11 / 14 ~ 11 / 25
    - 구동축 &  통신 파트 : 조이스틱을 이용한 구동축 제어 구현
    - 충돌 방지 파트 : 충돌 방지 코드 및 회로 구성
    - 운전자 보조 시스템 파트 : 센서 제어를 위한 코드 및 회로 작성, 상태 판단 연산 구현
  - 11 / 26 ~ 12 / 08
    - 구동축 & 충돌방지 & 통신 파트 : 충돌 시 구동축 제어 코드 추가, 충돌 시 비상등 점등 추가
    - 운전자 보조 시스템 파트 :  구동축과 충돌방지간 통신 구현 및 센서 가중치 조정
- 12 / 09~12 / 12 : 시스템 구현 및 트러블슈팅
- 12 / 13 : 최종 발표
- 12 / 14 ~ 12 / 22 : 피드백 적용 및 보고서 제출

## 문제
### 모터 PWM 및 연결 문제
- 처음 전력문제로 모터가 돌지 않음
  - 모터드라이브에 배터리 직결로 전력 해결
- PWM핀 문제로 ENB를 통해 모터에 duty_cycle 전달이 제대로 되지 않음
  - wiringPi에서 핀 모드를 pwm으로 변경하여 해결
  - L289N 모터드라이브 ENA -> GPIO 18번, PWM0
  - L289N 모터드라이브 ENB -> GPIO 13번, PWM1
  - ENA는 원래 설정대로 잘 되었지만 ENB가 제대로 되지 않아 "gpio mode 23 pwm"으로 설정 후 해결
